<!--
 * Copyright 2018 The Chromium Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style license that can be
 * found in the LICENSE file.
-->
<!DOCTYPE html>
<html lang="en">
  <meta charset="utf-8" />
  <title>DevTools</title>
  <style></style>
  <meta name="referrer" content="no-referrer" />
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/acorn-walk@6.0.1/dist/walk.js"
    integrity="sha384-W4A4XRx8vrwlxdf53qoEms/quF6V3jedkHeWxELGHMv2To2pXNGajE9UHbzaXTXP"
    crossorigin="anonymous"
  ></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/react@17.0.2/umd/react.production.min.js"
    integrity="sha384-7Er69WnAl0+tY5MWEvnQzWHeDFjgHSnlQfDDeWUvv8qlRXtzaF/pNo18Q2aoZNiO"
    crossorigin="anonymous"
  ></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/react-dom@17.0.2/umd/react-dom.production.min.js"
    integrity="sha384-vj2XpC1SOa8PHrb0YlBqKN7CQzJYO72jz4CkDQ+ePL1pwOV4+dn05rPrbLGUuvCv"
    crossorigin="anonymous"
  ></script>
  <script src="./base64js.min.js"></script>
  <script src="./apexcharts.js"></script>
  <script src="./inflate.min.js"></script>
  <script src="./compare-versions.js"></script>
  <script
    type="module"
    src="./entrypoints/%ENTRYPOINT_NAME%/%ENTRYPOINT_NAME%.js"
  ></script>
  <script>
    // Loader for URL theme controller
    // Load theme controller when URL contains theme parameter
    (function() {
      'use strict';

      // Get URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const themeParam = urlParams.get('theme');

      // If theme parameter is specified, load theme controller
      if (themeParam) {
        console.log(`[URL Theme Loader] Detected theme parameter: ${themeParam}, loading URL theme controller...`);

        // Dynamically load URL theme controller script
        const script = document.createElement('script');
        script.src = './url-theme-controller.js';
        script.async = true;

        script.onload = function() {
          console.log('[URL Theme Loader] URL theme controller loaded successfully');
        };

        script.onerror = function() {
          console.error('[URL Theme Loader] URL theme controller load failed');
        };

        // Add script to document head
        document.head.appendChild(script);
      } else {
        console.log('[URL Theme Loader] No theme parameter specified, skipping theme controller');
      }

    })();
  </script>
  <script>
    // Loader for single panel
    // Only load single panel controller when URL contains panel parameter
    (function() {
      'use strict';

      // Get URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const panelParam = urlParams.get('panel');

      // If no panel parameter is specified, use default full panel mode
      if (!panelParam) {
        console.log('[Single Panel Loader] No panel parameter specified, using default full panel mode');
        return;
      }

      console.log(`[Single Panel Loader] Detected panel parameter: ${panelParam}, loading single panel controller...`);

      // Dynamically load single panel controller script
      const script = document.createElement('script');
      script.src = './single-panel-controller.js';
      script.async = true;

      script.onload = function() {
        console.log('[Single Panel Loader] Single panel controller loaded successfully');
      };

      script.onerror = function() {
        console.error('[Single Panel Loader] Single panel controller loaded failed');
      };

      // Add script to document head
      document.head.appendChild(script);

    })();
  </script>
  <body
    class="undocked"
    id="-blink-dev-tools"
  ></body>
</html>
